<!DOCTYPE html>
<html>
<head>
	<style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 90%;
        margin: 0;
        padding: 0;
      }
    </style>
	<script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAYfDkvy1MNYRXBX0a28hMlkE8pJXXCbhg&callback=getLocation">
    </script>
</head>
<body>
<div id="map"></div>
<p>Click the button to get your coordinates.</p>

<button onclick="getLocation()">Try It</button>

<div id="mapholder"></div>
<!-- AIzaSyAwQN_M0ComCUV-Ps-1K7nWnXp4uJhSDAU -->
<!-- AIzaSyAwQN_M0ComCUV-Ps-1K7nWnXp4uJhSDAU -->
<!-- AIzaSyAYfDkvy1MNYRXBX0a28hMlkE8pJXXCbhg -->
<script>
	gkey = 'AIzaSyAYfDkvy1MNYRXBX0a28hMlkE8pJXXCbhg';
var x = document.getElementById("demo");

function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else { 
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}

function showPosition(position) {
    var latlon = position.coords.latitude + "," + position.coords.longitude;

    var img_url = "https://maps.googleapis.com/maps/api/staticmap?center="+latlon+"&zoom=14&size=400x300&sensor=false&key=AIzaSyAYfDkvy1MNYRXBX0a28hMlkE8pJXXCbhg";

    document.getElementById("mapholder").innerHTML = "<img src='"+img_url+"'>";
    initMap(position.coords.latitude, position.coords.longitude)
}
// function showPosition(position) {
//     x.innerHTML = "Latitude: " + position.coords.latitude + 
//     "<br>Longitude: " + position.coords.longitude;
//}


      var map;
      function initMap(lat, long) {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: lat, lng: long},
          zoom: 14
        });
      }
    </script>

</body>
</html>
